<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Generation One – From Ashes</title>
  <link rel="stylesheet" href="style.css" />
  <script src="wheel.js" defer></script>
  <script src="worldpicker.js" defer></script>
  <script src="traits.js" defer></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const checkboxes = document.querySelectorAll('input[type="checkbox"]');
    checkboxes.forEach((box, index) => {
      const key = `gen1-check-${index}`;
      box.checked = localStorage.getItem(key) === 'true';
      box.addEventListener('change', () => {
        localStorage.setItem(key, box.checked);
      });
    });
  });
</script>
</head>
<body>
  <header>
    <h1>🌱 Generation One – From Ashes</h1>
    <nav>
      <a href="index.html">Home</a>
    </nav>
  </header>
  <div class="content-wrapper">
    <main>
    <section>
      <h2>📦 Gen One Overview</h2>
      <ul>
        <li><strong>🎯 Pack Focus:</strong> Base Game Only</li>
        <li><strong>🔥 Theme:</strong> Off-the-grid survival, emotional scars, rebuilding legacy</li>
        <li><strong>🎨 Color Palette:</strong> Burnt Sienna · Olive Green · Charcoal Grey · Faded Linen</li>
        <li><strong>🛋️ Interior Style:</strong> Rustic Minimalism · Wasteland Survival · Handcrafted Solitude</li>
      </ul>
    </section>
    <section>
  <h2>🎲 World & Backstory Selector</h2>
  <p>Click to randomly reveal your Sim’s origin story and survival setting:</p>
  <button onclick="rollWorld()">Roll World</button>
  <pre id="worldResult" style="white-space: pre-wrap; background: #1e1e1e; padding: 15px; border-left: 4px solid #F00081; border-radius: 6px; margin-top: 15px;"></pre>
</section>

    <section>
      <h2>🏚️ Lot Setup</h2>
      <ul>
        <li>Start with <strong>§0</strong></li>
        <li>Bulldozed residential lot</li>
        <li>No furniture or structures</li>
        <li>No cheats</li>
      </ul>
      <h3>🛠️ Required Lot Traits:</h3>
      <ul>
        <li>✅ <strong>Off the Grid</strong> (mandatory)</li>
        <li>🔸 1 Challenge Trait: Filthy, Grody, Quake Zone, Volcanic Activity (cheat), Creepy Crawlies (mod)</li>
        <li>🔹 1 Helpful Trait: Homey, Sunny Aspect, Great Soil, Fast Internet (only if earned)</li>
      </ul>
    </section>

    <section>
  <h2>🎡 Spin-to-Survive: The Triple Skill Challenge</h2>
  <p>Click the button <strong>three times</strong> to receive your Sim’s random skills:</p>
  <button onclick="spinSkill()">Spin Skill</button>
  <ul id="skillResults" style="margin-top: 10px;"></ul>
</section>

    
<section>
        <h2>🧐 Create Your Sim</h2>
        <label for="simName">Name Your Founder:</label><br />
        <input type="text" id="simName" placeholder="e.g., Elara Moss" /><br /><br />

        <label>🌹 Trait 1:</label><br />
        <select id="trait1"></select><br /><br />

        <label>🌹 Trait 2:</label><br />
        <select id="trait2"></select><br /><br />

        <label>🌹 Trait 3 (based on skills):</label><br />
        <select id="trait3"></select><br /><br />

        <button id="rollAllTraits">🎲 Roll Traits from Skills</button><br><br>
</section>

      <section>
        <h2>🔞 Challenge Restrictions</h2>
        <ul>
          <li>❌ No careers or freelance gigs</li>
          <li>❌ No selling unrelated items</li>
          <li>❌ No modern power/plumbing</li>
          <li>✅ Use off-the-grid Base Game items: dew collectors, composting toilets, candles, solar panels (if earned)</li>
        </ul>
      </section>

      <section>
        <h2>🎯 Generation Completion Goals</h2>
        <ul>
          <li><input type="checkbox"> Max 3 skills</li>
          <li><input type="checkbox"> Complete 3 aspirations</li>
          <li><input type="checkbox"> Reach £150,000 value</li>
          <li><input type="checkbox"> Build an off-the-grid home</li>
          <li><input type="checkbox"> Create a Legacy Vault with:
            <ul>
              <li><input type="checkbox"> 🖼️ Family portrait of Gen 1 & Gen 2</li>
              <li><input type="checkbox"> 📦 3 skill-based heirlooms</li>
            </ul>
          </li>
          <li><input type="checkbox"> Have or adopt an heir</li>
          <li><input type="checkbox"> Heir must witness trauma (death, fire, betrayal)</li>
        </ul>
      </section>

      <section>
        <h2>🧳️ Legacy Vault Tradition</h2>
        <ul>
          <li>Create a hidden room (attic, basement, or vault)</li>
          <li>Lock it for Gen 2 only</li>
          <li>Store heirlooms and the family portrait</li>
          <li>Pass this space through generations</li>
        </ul>
      </section>

      <section>
        <h2>💬 Final Prompt: The Founder’s Message</h2>
        <p>Your Sim must leave a legacy message:</p>
        <blockquote><em>“This is where we began. Whatever you build next, don’t forget where we came from.”</em></blockquote>
      </section>
    </main>
  </div>

  <footer>
    <p>&copy; 2025 CandyBlack – Sims 4 Legacy Challenge</p>
  </footer>

  <audio id="rollSound" src="roll.mp3" preload="auto"></audio>

  <script>
    const baseGameTraits = [
      "Active", "Cheerful", "Creative", "Genius", "Gloomy", "Goofball", "Hot-Headed", "Romantic", "Self-Assured", "Unflirty",
      "Bookworm", "Foodie", "Geek", "Glutton", "Lazy", "Materialistic", "Music Lover", "Neat", "Perfectionist", "Slob", "Snob",
      "Art Lover", "Ambitious", "Childish", "Clumsy", "Dance Machine", "Loner", "Mean", "Outgoing"
    ];

    const skillToTraits = {
      "Painting": ["Creative", "Art Lover"],
      "Writing": ["Bookworm", "Loner"],
      "Programming": ["Geek", "Genius"],
      "Music": ["Music Lover", "Creative"],
      "Handiness": ["Perfectionist", "Clumsy"],
      "Gardening": ["Loner", "Gloomy"],
      "Collecting": ["Genius", "Ambitious"],
      "Photography": ["Self-Assured", "Snob"],
      "Charisma Hustling": ["Outgoing", "Cheerful"]
    };

    function populateTraitDropdown(select, options) {
      select.innerHTML = "";
      options.forEach(trait => {
        const opt = document.createElement("option");
        opt.value = trait;
        opt.textContent = trait;
        select.appendChild(opt);
      });
    }

    function rollAllTraitsFromSkills() {
      const skills = Array.from(document.querySelectorAll('#skillResults li')).map(li => li.textContent);
      const traitPool = new Set();

      skills.forEach(skill => {
        const base = skill.split(" –")[0].trim().replace(/[^
